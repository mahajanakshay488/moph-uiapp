<h2>Search Drugs</h2>
<div class="container d-flex">
    <form class="form-center"  (ngSubmit)='handleSubmitforID()' ngNativeValidate>
        <div class="form-group form col-4 text-center">
            <label class="text-success" style="font-weight: 600;" >Search Drug by ID</label>
            <input type="text" class="form-control" name="id" placeholder="ex: 'D1'" pattern="[D]{1}[1-9]{1,3}"
                [(ngModel)]='drugs.drugId' required>
            <br>
            <p align:right>
                <button class="btn btn-success" type="submit">Search</button>
            </p>
        </div>
    </form>
    <form class="form-center" (ngSubmit)='handleSubmitforName()' ngNativeValidate>
        <div class="form-group form col-4 text-center">
            <label class="text-success" style="font-weight: 600;">Search Drug by Name</label>
            <input type="text" class="form-control" name="name" placeholder="ex: 'Paracetamol'" pattern="^[a-zA-Z_ ]*$"
                [(ngModel)]='drug.drugName' required>
            <br>
            <p align:right>
                <button class="btn btn-success" type="submit">Search</button>
            </p>
        </div>
    </form>
</div>

<br>

<div *ngIf="loading" class="d-flex mt-5 justify-content-center">
    <div class="spinner-border text-danger" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

<div *ngIf="fetched">
    <table class="table table-bordered table-hover">
        <thead class="bg-dark text-light"  >
            <tr>
                <th>Drug Name</th>
                <th>Manufactured By</th>
                <th>Manufacture Date</th>
                <th>Expiry Date</th>
                <th>Locations - Quantity</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>{{this.drugs.drugName}}</td>
                <td>{{this.drugs.manufacturer}}</td>
                <td>{{this.drugs.manufactureDate | date : 'dd-MM-yyyy'}}</td>
                <td>{{this.drugs.expiryDate | date : 'dd-MM-yyyy'}}</td>
                <td>

                    <p *ngFor='let loc of drugs.druglocationQuantities'> {{loc.location}} - {{loc.quantity}} </p>
                   </td>
            </tr>

        </tbody>

    </table>
</div>
<p class="error">{{errorMsg}}</p>
<br>
<br>
